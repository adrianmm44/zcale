/////////////////////////////////////////////////////////////////////////////////////////////////////////

package hxflib.codeCrawler.elements.access;

import hxflib.codeCrawler.CodeElement;

class AccessElement extends CodeElement
{
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function new( sub : Dynamic, reg : Dynamic, ?keyword : String )
	{
		super( sub, reg, keyword );
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function tryToParse() : Void
	{
		var str : String = modules.current.code.readWord();
		
		if( str == keyword )
		{
			registry.elementInfo.access.set( keyword, true );
			modules.current.code.index += modules.current.code.endIndexOf( keyword );
			
			dispatchEvent( eventType().complete );
		}
		else {
			dispatchEvent( eventType().parseNot );
		}
	}
		
	/////////////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////