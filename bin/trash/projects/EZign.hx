////////////////////////////////////////////////////////////////////////////////////////////////////////

package ;

import hxf.Core;
import hxf.core.Boot;
import hxf.core.Registry;
import hxf.core.Mvc;

class EZign
{
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public static function main() : Void
	{		
		new EZign();
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function new()
	{	
		var core = new Core();
		core.addEventListener( core.eventType().complete, onBootComplete );
		core.addEventListener( core.eventType().error, 	  onError );
		core.boot();
	}
		
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	private function onBootComplete( core : Core ) : Void
	{
		Core.trace("hello world");
				
		var mvc = new Mvc( core.registry );
		mvc.addEventListener( mvc.eventType().complete, onMvcComplete );
		mvc.addEventListener( mvc.eventType().error, 	onError );
		mvc.execute();
	}
		
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	private function onMvcComplete( mvc : Mvc ) : Void
	{
		
	}
		
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	private function onError( cls : Dynamic ) : Void
	{
		Core.trace( cls.eventData().error.toString() );
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////