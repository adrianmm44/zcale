/////////////////////////////////////////////////////////////////////////////////////////////////////////

package hxf.core.loaders.textLoader.targets;

import sys.io.File;
import hxf.core.events.dispatchers.TextDispatcher;

class SystemTextLoader extends TextDispatcher
{
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function new( sub : Dynamic )
	{
		super( sub );
	}
		
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function load( filePath : String ) : Void
	{
		try {
			eventData().text = File.getContent( filePath );
			
			dispatchEvent( eventType().complete );
		}
		catch( errorMessage : Dynamic )
		{
			dispatchError( eventData().error, this, "load", errorMessage );
		}
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////