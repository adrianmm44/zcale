/////////////////////////////////////////////////////////////////////////////////////////////////////////

package zcale.dom.node;

import haxe.ds.StringMap;

class NodeAttrs
{
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public var id(  default, set )  : String;
	public var cls( default, set )  : String;
	
	private var attrs 	: StringMap<String>;
	private var changed : Bool = false;
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function new()
	{
		attrs = new StringMap();
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/*/
	private function checkStatus() : Void
	{
		if( changed == false ){ 
			changed = true;
			// Dom.renderElements.push( this );
		}
	}
	/*/
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	private function set_id( v : String ) : String 
	{
		//checkStatus();
		return id = v;
	}
	
	private function set_cls( v : String ) : String 
	{
		//checkStatus();
		return cls = v;
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function set( key : String, value : String ) : Void
	{
		//checkStatus();
		attrs.set( key, value );
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public function render() : String
	{
		var str = "";
				
		if( id != null ){
			str += ' id="' + id + '"';
		}
		if( cls != null ){
			str += ' class="' + cls + '"';
		}
		for( key in attrs.keys() ){
			 str += ' ' + key + '="' + attrs.get( key ) + '"';
		}
		return str;
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////