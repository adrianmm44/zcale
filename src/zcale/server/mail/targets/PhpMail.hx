/////////////////////////////////////////////////////////////////////////////////////////////////////////

package hxf.core.system.mail.targets;

import hxf.core.system.mail.targets.ServerMail;

class PhpMail extends ServerMail
{
	/////////////////////////////////////////////////////////////////////////////////////////////////////

	public function new( sub : Dynamic, reg : Dynamic )
	{
		super( sub, reg );
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	
	override private function sendMail( subject : String, 
							   			message : String, 
							   			headers : String, 
							   			envFrom : String ) : Bool
	{
		var sended : Bool = false;		
		untyped __php__("$sended  = mail( null, $subject, $message, $headers . 'X-Mailer: PHP/' . phpversion(), $envFrom )" );
		return sended;
	}
	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////